{
  "extends": ["config:base", ":semanticCommits"],
  "enabledManagers": ["terraform", "custom.regex"],

  "customManagers": [
    {
      "customType": "regex",
      "description": "Track <module>-v<semver> tags â†’ replace ?ref=<sha>",
      "managerFilePatterns": ["\\.tf$"],

      "matchStrings": [
        "\\s*#\\s*renovate:\\s*version=(?<currentValue>[\\w.-]+)\\s*(?:\\n|\\r|$)\\s*\
source\\s*=\\s*\"git::https://github\\.com/(?<org>[\\w-]+)/(?<repo>[\\w-]+)(?:\\.git)?//modules/(?<module>[\\w-]+)\\?ref=(?<currentDigest>[0-9a-f]{40})\""
      ],
      "datasourceTemplate": "github-tags",
      "lookupNameTemplate": "{{ org }}/{{ repo }}",
      "depNameTemplate": "{{ module }}-submodule",
      "versioningTemplate": "semver",
      "extractVersionTemplate": "^{{ module }}-v(?<version>\\d+(?:\\.\\d+){1,2}(?:[-+].*)?)$"
    }
  ],
  "packageRules": [
    {
      "matchPackagePatterns": ["-submodule$"],
      "groupName": "terraform-submodule-updates",
      "groupSlug": "tf-submodules",
      "addLabels": ["terraform", "submodule", "dependencies"]
    }
  ],

  "prHourlyLimit": 0,
  "prConcurrentLimit": 2
}
